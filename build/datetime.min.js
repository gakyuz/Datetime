!function(y){"use strict";var w="Invalid date",f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,3}|Z{1,2}|z{1,2}|C/g,k=/(%[a-z])/gi;function S(t,e,n){return t=""+t,n&&n<=t.length?t:Array(n+1-t.length).join(e)+t}function a(){if(arguments[0]instanceof e)return arguments[0].clone();var t=[].slice.call(arguments);return new(Function.prototype.bind.apply(e,[this].concat(t)))}y.DATETIME_LOCALES={en:{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysTwo:"Su Mo Tu We Th Fr Sa".split(" ")}};var n={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",w:"Week",Q:"Quarter",t:"Time"},e=function(){var t=[].slice.call(arguments);this.value=new(Function.prototype.bind.apply(Date,[this].concat(t))),this.locale="en",this.weekStart=0};e.isDatetime=function(t){return t instanceof e},e.now=function(t){return t?a().val():a().time()},e.unix=function(t){return a(1e3*t)},e.locale=function(t,e){y.DATETIME_LOCALES[t]=e},e.align=function(t,e,n){var i,r=a(t);switch(e){case"second":i=r.millisecond(0);break;case"minute":i=r.millisecond(0).second(0);break;case"hour":i=r.millisecond(0).second(0).minute(0);break;case"day":i=r.millisecond(0).second(0).minute(0).hour(0);break;case"month":i=r.millisecond(0).second(0).minute(0).hour(0).day(1);break;case"year":i=r.millisecond(0).second(0).minute(0).hour(0).day(1).month(0);break;default:i=r}return n?i.val():i},e.prototype={useLocale:function(t){return this.locale=t,this},clone:function(){return a(this.value)},isValid:function(){return!isNaN(this.time())},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},year2:function(){return(""+this.year()).substr(-2)},century:function(){return this.year()/100},dayOfYear:function(){var t=this.month(),e=this.day();return[0,31,59,90,120,151,181,212,243,273,304,334][t]+e+(1<t&&this.isLeapYear()?1:0)},ampm:function(t){var e=this.hour()<12?"AM":"PM";return t?e.toLowerCase():e},val:function(t){return t instanceof Date?(this.value=t,this):this.value},unix:function(t){return arguments.length&&null!=t?this.time(1e3*t):Math.floor(this.valueOf()/1e3)},valueOf:function(){return this.value.getTime()},_set:function(t,e){return this.value["set"+n[t]](e),this},_get:function(t){return this.value["get"+n[t]]()},_work:function(t,e){return arguments.length&&null!=e?this._set(t,e):this._get(t)},millisecond:function(t){return this._work("ms",t)},second:function(t){return this._work("s",t)},minute:function(t){return this._work("m",t)},hour:function(t){return this._work("h",t)},weekDay:function(t){return this._work("d",t)},day:function(t){return this._work("D",t)},month:function(t){return this._work("M",t)},year:function(t){return this._work("Y",t)},time:function(t){return this._work("t",t)},hour12:function(t,e){return 0===arguments.length?this.hour()%12||12:("pm"===(e=e||"am").toLowerCase()&&(t+=12),this.hour(t))},get:function(t){switch(t){case"day":return this.day();case"weekDay":return this.weekDay();case"week":return this.week();case"month":return this.month();case"year":return this.year();case"year2":return this.year2();case"hour":return this.hour();case"minute":return this.minute();case"second":return this.second();case"millisecond":return this.millisecond();case"time":return this.time();case"century":return this.century();default:return this.valueOf()}},set:function(t,e){switch(t=t||0,e){case"day":return this.day(t);case"month":return this.month(t);case"year":return this.year(t);case"hour":return this.hour(t);case"minute":return this.minute(t);case"second":return this.second(t);case"millisecond":return this.millisecond(t);case"time":return this.time(t)}},add:function(t,e){switch(e){case"hour":this.time(this.time()+60*t*60*1e3);break;case"minute":this.time(this.time()+60*t*1e3);break;case"second":this.time(this.time()+1e3*t);break;case"millisecond":this.time(this.time()+t);break;case"day":this.day(this.day()+t);break;case"week":this.day(this.day()+7*t);break;case"month":this.month(this.month()+t);break;case"year":this.year(this.year()+t)}return this},addHour:function(t){return this.add(t,"hour")},addMinute:function(t){return this.add(t,"minute")},addSecond:function(t){return this.add(t,"second")},addMillisecond:function(t){return this.add(t,"millisecond")},addDay:function(t){return this.add(t,"day")},addWeek:function(t){return this.add(t,"week")},addMonth:function(t){return this.add(t,"month")},addYear:function(t){return this.add(t,"year")},between:function(t,e){var n=this.time();return a(t).time()>n&&n>a(e)},align:function(t){return this.value=e.align(this.value,t,!0),this},compare:function(t,e,n){var i,r,s=a(t),t=this.clone();if(-1===["<",">",">=","<=","=","!="].indexOf(n=n||"<"))throw new Error("Operator must be one of <, >, >=, <=, =, !=");if(!t.isValid())throw new Error("Object has not contains a valid date");if(!s.isValid())throw new Error("Argument is not a valid date");switch(e=(e||"millisecond").toLowerCase(),i=t.align(e).time(),r=s.align(e).time(),n){case"<":return i<r;case">":return r<i;case"<=":return i<=r;case">=":return r<=i;case"=":return i===r;case"!=":return i!==r}},older:function(t,e){return this.compare(t,e,"<")},olderOrEqual:function(t,e){return this.compare(t,e,"<=")},younger:function(t,e){return this.compare(t,e,">")},youngerOrEqual:function(t,e){return this.compare(t,e,">=")},equal:function(t,e){return this.compare(t,e,"=")},notEqual:function(t,e){return this.compare(t,e,"!=")},diff:function(t,e){},daysInMonth:function(){return this.clone().add(1,"month").day(1).add(-1,"day").day()},daysInYear:function(){var t=0,e=this.clone();e.month(0).day(1);for(var n=0;n<12;n++)e.add(1,"month").add(-1,"day"),t+=e.day(),e.day(1).add(1,"month");return t},offset:function(){return this.value.getTimezoneOffset()},timezone:function(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName:function(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},week:function(t){var e,n,i;return t=+t?1:0,e=0<=(e=(n=a(this.year(),0,1)).weekDay()-t)?e:e+7,n=Math.floor((this.time()-n.time()-6e4*(this.offset()-n.offset()))/864e5)+1,e<4?52<(i=Math.floor((n+e-1)/7)+1)&&(i=(t=0<=(t=a(this.year()+1,0,1).weekDay()-t)?t:t+7)<4?1:53):i=Math.floor((n+e-1)/7),i},format:function(t,e){if(!this.isValid())return w;var n=t||"YYYY-MM-DDTHH:mm:ss.sssZ",i=y.DATETIME_LOCALES[e||this.locale],r=this.year(),s=this.year2(),a=this.month(),o=this.day(),u=this.weekDay(),h=this.week(),c=this.hour(),d=this.hour12(),l=this.minute(),t=this.second(),e=this.millisecond(),m={YY:s,YYYY:r,M:a+1,MM:S(a+1,"0",2),MMM:i.monthsShort[a],MMMM:i.months[a],D:o,DD:S(o,"0",2),d:u,dd:i.weekdaysTwo[u],ddd:i.weekdaysShort[u],dddd:i.weekdays[u],W:h,WW:S(h,"0",2),H:c,HH:S(c,"0",2),h:d,hh:S(d,"0",2),a:this.ampm(!0),A:this.ampm(!1),m:l,mm:S(l,"0",2),s:t,ss:S(t,"0",2),sss:S(e,"0",3),Z:this.timezone(),z:"Z",C:this.century()};return n.replace(f,function(t,e){return e||m[t]})},strftime:function(t,e){if(!this.isValid())return w;var n=t||"%Y-%m-%d %H:%M:%S %z",i=y.DATETIME_LOCALES[e||this.locale],r=this.year(),s=this.year2(),a=this.month(),o=this.day(),u=this.weekDay(),h=this.hour(),c=this.hour12(),d=this.minute(),l=this.second(),m=this.time(),t=S(o,"0",2),e=S(a+1,"0",2),h=S(h,"0",2),c=S(c,"0",2),d=S(d,"0",2),l=S(l,"0",2),f={"%a":i.weekdaysShort[u],"%A":i.weekdays[u],"%b":i.monthsShort[a],"%h":i.monthsShort[a],"%B":i.months[a],"%c":"","%C":this.century(),"%d":t,"%D":[t,e,r].join("/"),"%e":o,"%F":[r,e,t].join("-"),"%G":"","%g":"","%H":h,"%I":c,"%j":S(this.dayOfYear(),"0",3),"%k":h,"%l":c,"%m":e,"%n":a+1,"%M":d,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(m/1e3),"%S":l,"%u":"","%V":this.week(),"%w":u,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":s,"%Y":r,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[c,d,l].join(":")+" "+this.ampm(),"%R":[h,d].join(":"),"%T":[h,d,l].join(":")};return n.replace(k,function(t){return f[t]||t})},to:function(t){return this.isValid()&&"function"==typeof this.value[t]?this.value["to"+t]():w},toTimeString:function(){return this.to("TimeString")},toLocaleDateString:function(){return this.to("LocaleDateString")},toLocaleString:function(){return this.to("LocaleString")},toLocaleTimeString:function(){return this.to("LocaleTimeString")},toString:function(){return this.to("String")},toJSON:function(){return this.to("JSON")},toSource:function(){return this.to("Source")},toISOString:function(){return this.to("ISOString")},toUTCString:function(){return this.to("UTCString")},toDate:function(){return new Date(this.valueOf())}},y.Datetime=e,y.datetime=a}("undefined"==typeof self?"undefined"==typeof global?window:global:self);
//# sourceMappingURL=datetime.min.js.map